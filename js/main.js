function musicLrc(t){var a=t.split("\n"),e=[];a.forEach(function(t,a){var s=t.lastIndexOf("]"),c=t.substring(s+1),i=t.substr(1,s-1).replace(/\..*/g,"");i=new Date("1970-01-01 00:"+i).getTime();var n=new Date("1970-01-01 00:00:00").getTime(),r=i-n;e.push("<p class='j-tiem-"+r/1e3+"'>"+c+"</p>")}),$(".gc").html(e.join(""))}$(function(){$.get("music.json",{},function(t){var a=t.data;console.log(a);for(var e="",s=0,c=a.length;s<c;s++){var i=a[s];e+="<li data-src='"+i.src+"' data-lrc='"+i.lrc+"'>"+i.name+"</li>"}$(".music-list").html(e)},"json")}),$(function(){var t=$("#audio").get(0);$(".music-list").on("click","li",function(){$(this).addClass("active"),$(this).siblings().removeClass("active");var a=$(this).data("src"),e=$(this).data("lrc");t.src=a,t.currentTime=0,t.play(),$.get(e,{},function(t){musicLrc(t)},"text")});var a,e=$(".gc").eq(0).css("top");$(t).on("play",function(){clearInterval(a),a=setInterval(function(){var a=parseInt(t.currentTime),s=$(".j-tiem-"+a);s.addClass("active");var c=s.prevAll().length;e=parseFloat(e),e=240-24*c;var i=e+"px";console.log(e),$(".gc").css("top",i),s.siblings(".active").removeClass("active")},1e3)}),$(t).on("pause",function(){clearInterval(a)})});